{"version":3,"sources":["../../src/pages/myoffer/myoffer.module.ts","../../src/models/profile/profile.interface.ts","../../src/pages/myoffer/myoffer.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyofferPage } from './myoffer';\n\n@NgModule({\n  declarations: [\n    MyofferPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyofferPage),\n  ],\n})\nexport class MyofferPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myoffer/myoffer.module.ts","\r\nexport class Profile {\r\n    uid?: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    dateOfBirth: any;\r\n    job: string;\r\n    location: string;\r\n    avatar: string;\r\n    cover: string;\r\n    description: string;\r\n    knowledgeNumber: number;\r\n    knowledges: string;\r\n    opinion: string;\r\n    jobberStatut: boolean;\r\n    userPermission : number;\r\n    requestPost: number;\r\n    workDone: number;\r\n    commentPost: number;\r\n    date: any;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/profile/profile.interface.ts","import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { OfferListService } from '../../providers/offer/offer-list.services';\nimport { Observable } from 'rxjs/Observable';\nimport { Request } from '../../models/request/request.model';\nimport { Profile } from '../../models/profile/profile.interface';\nimport { ToastService2 } from './../../providers/toast/toast.services';\nimport { DataService } from '../../providers/data/data.service';\nimport { Subscription } from 'rxjs/Subscription';\nimport { User } from 'firebase/app';\nimport { AuthService } from '../../providers/auth/auth.service';\nimport { RequestListService } from '../../providers/request/request-list.services';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-myoffer',\n  templateUrl: 'myoffer.html',\n})\nexport class MyofferPage {\n  \n  offerList$ = [];\n  requestList$ = [];\n\n  public userProfile: Profile;\n\n  @Output() existingProfile: EventEmitter<Profile>;\n  @Input() profile: Profile;\n\n  private authenticatedUser$: Subscription;\n  private authenticatedUser: User;\n\n  showContainer: boolean = true;\n\n  constructor(\n    public navCtrl: NavController,  \n    public navParams: NavParams,\n    private offers: OfferListService, \n    private requests: RequestListService,\n    private toast: ToastService2,\n    public modalCtrl: ModalController,\n    private data: DataService,\n    private auth: AuthService, \n  )\n  {\n    this.existingProfile = new EventEmitter<Profile>();\n    \n    this.authenticatedUser$ = this.auth.getAuthenticatedUser().subscribe((user: User) => {\n      this.authenticatedUser = user; \n    })\n\n\n    // Récupère la liste des offres\n    this.offers.getOfferListRef().once('value').then(snap => { \n      snap.forEach(element => {\n        this.data.getUid(element.val().uidProfile).valueChanges().subscribe(c => {\n          let userOffer = element.val();   \n          userOffer['uidOffer'] = element.key;\n          userOffer['userOffer'] = c;\n          if(userOffer.uidProfile ==  this.userProfile.uid) {\n            this.showContainer = false;\n            this.offerList$.push(userOffer);\n          }\n        });\n      }); \n    });  \n  }\n\n  ngOnInit(): void {  \n    this.auth.getAuthenticatedUser().subscribe((user: User) => {\n      this.data.getProfile(user).valueChanges().subscribe((profile: Profile) => {\n        this.userProfile = <Profile>profile;\n        this.userProfile.uid = user.uid; \n        this.existingProfile.emit(this.userProfile);\n      })\n    })\n  }  \n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myoffer/myoffer.ts"],"sourceRoot":""}