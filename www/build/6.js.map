{"version":3,"sources":["../../src/pages/welcome/welcome.module.ts","../../src/pages/login/login.ts","../../src/pages/tabs/tabs.ts","../../src/pages/welcome/welcome.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAUxC;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAR7B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;aACtC;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZY;AACgC;AAEV;AAWhE;IAIE,mBACS,OAAsB,EACtB,SAAoB,EACnB,KAAsB,EACtB,IAAiB;QAHlB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,UAAK,GAAL,KAAK,CAAiB;QACtB,SAAI,GAAJ,IAAI,CAAa;IAG3B,CAAC;IAEC,yBAAK,GAAL,UAAM,KAAoB;QAA1B,iBAsBC;QArBC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,EAAE,EAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAChB,OAAO,EAAE,+BAA6B,KAAK,CAAC,MAAM,CAAC,KAAK,OAAI;gBAC5D,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC,OAAO,EAAE,CAAC;YAEb,iFAAiF;YACjF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAO,KAAK,CAAC,MAAM,CAAC;iBACvD,eAAe,EAAE,CAAC,uBAAuB;iBACzC,SAAS,CAAC,gBAAM;gBACf,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;gBAClC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACjG,CAAC,CAAC,CAAC;QACL,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAChB,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;gBAC5B,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC,OAAO,EAAE,CAAC;QACf,CAAC;IACH,CAAC;IAnCQ,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;6EAM+B;YACX,sEAAS;YACZ,mFAAe;YAChB,MAAW;OARhB,SAAS,CAoCnB;IAAD,CAAC;AAAA;SApCU,SAAS,e;;;;;;;;;;;;;;;;;;;;ACdoB;AACe;AAQzD;IAME,kBAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAEpE,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAE;QAChC,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;IAChC,CAAC;IAXU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAOsE;OAN3D,QAAQ,CAapB;IAAD,CAAC;AAAA;SAbY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;;ACT8D;AAC1B;AACd;AACH;AACD;AAIyB;AACA;AAOhE;IAcE,qBACS,OAAsB,EACtB,SAAoB,EACnB,IAAiB,EACjB,IAAiB;QAJ3B,iBAWC;QAVQ,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,SAAI,GAAJ,IAAI,CAAa;QAd3B,aAAQ,GAAE,+DAAS,CAAC;QACpB,cAAS,GAAE,4DAAQ,CAAC;QAelB,IAAI,CAAC,eAAe,GAAG,IAAI,mEAAY,EAAW,CAAC;QAEnD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAC,IAAU;YAC9E,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAChC,CAAC,CAAC;IACJ,CAAC;IAED,gDAAgD;IAChD,8BAAQ,GAAR;QAAA,iBAUC;QATC,EAAE,EAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAC,IAAU;gBACpD,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,UAAC,OAAgB;oBACnE,KAAI,CAAC,WAAW,GAAY,OAAO,CAAC;oBAEpC,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;gBAC9C,CAAC,CAAC;YACJ,CAAC,CAAC;QACJ,CAAC;IACH,CAAC;IAED,uDAAuD;IACvD,kCAAY,GAAZ;QACE,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;QAChD,EAAE,EAAC,YAAY,IAAE,CAAC,CAAC,EAAC;YAClB,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,gCAAgC;IAChC,yCAAmB,GAAnB;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAED,mCAAmC;IACnC,4CAAsB,GAAtB;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC;IAtDkB;QAAlB,yEAAS,CAAC,6DAAM,CAAC;kCAAS,6DAAM;+CAAC;IAUxB;QAAT,qEAAM,EAAE;kCAAkB,mEAAY;wDAAU;IAZtC,WAAW;QAJvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;6EAgB+B;YACX,iFAAS;YACb,iFAAW;YACX,QAAW;OAlBhB,WAAW,CAyDvB;IAAD,CAAC;AAAA;SAzDY,WAAW,e","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { WelcomePage } from './welcome';\n\n@NgModule({\n  declarations: [\n    WelcomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WelcomePage),\n  ],\n})\nexport class WelcomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\r\nimport { LoginResponse } from '../../models/login/login-response.interface';\r\nimport { DataService } from '../../providers/data/data.service';\r\n\r\nimport { User } from \"firebase/app\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  \r\n  private profile$: Subscription; \r\n  \r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,  \r\n    private toast: ToastController, \r\n    private data: DataService\r\n  ){\r\n\r\n  }\r\n    \r\n    login(event: LoginResponse) {\r\n      console.log(event);\r\n      if(!event.error) {\r\n        this.toast.create({\r\n          message: `Bienvenue sur WebJobbing, ${event.result.email} !`,\r\n          duration: 3000\r\n        }).present();\r\n          \r\n        // Retrieving the AngularFireObject and use a fonction that return an Observable \r\n        this.profile$ = this.data.getProfile(<User>event.result)\r\n        .snapshotChanges() // return an Observable\r\n        .subscribe(action => {\r\n          console.log(action.payload.val());\r\n          action.payload.val() ? this.navCtrl.setRoot('TabsPage') : this.navCtrl.push('EditProfilePage');\r\n        });    \r\n      }   \r\n      else {\r\n        this.toast.create({\r\n          message: event.error.message,\r\n          duration: 3000 \r\n        }).present();\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-tabs',\n  templateUrl: 'tabs.html',\n})\nexport class TabsPage {\n\n  tab1Root: string;\n  tab2Root: string;\n  tab3Root: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n    this.tab1Root = 'SettingsPage' ;\n    this.tab2Root = 'RequestPage';\n    this.tab3Root = 'ProfilePage';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component, ViewChild, EventEmitter, Output, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { TabsPage } from '../tabs/tabs';\r\nimport { Slides } from 'ionic-angular';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { User } from 'firebase/app';\r\nimport { Profile } from '../../models/profile/profile.interface';\r\nimport { AuthService } from '../../providers/auth/auth.service';\r\nimport { DataService } from '../../providers/data/data.service';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-welcome',\r\n  templateUrl: 'welcome.html',\r\n})\r\nexport class WelcomePage implements OnInit {\r\n\r\n  @ViewChild(Slides) slides: Slides;\r\n\r\n  nextPage= LoginPage;\r\n  nextPage2= TabsPage;\r\n\r\n  private authenticatedUser$: Subscription;\r\n  private authenticatedUser: User;\r\n  \r\n  public userProfile: Profile;\r\n  \r\n  @Output() existingProfile: EventEmitter<Profile>;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    private auth: AuthService,\r\n    private data: DataService,  \r\n  ) {\r\n    this.existingProfile = new EventEmitter<Profile>();\r\n    \r\n    this.authenticatedUser$ = this.auth.getAuthenticatedUser().subscribe((user: User) => {\r\n      this.authenticatedUser = user;\r\n    }) \r\n  }\r\n\r\n  // Récuppère les infos de l'utilisateur connecté\r\n  ngOnInit(): void {  \r\n    if(this.authenticatedUser) {\r\n      this.auth.getAuthenticatedUser().subscribe((user: User) => {\r\n        this.data.getProfile(user).valueChanges().subscribe((profile: Profile) => {\r\n          this.userProfile = <Profile>profile;\r\n          \r\n          this.existingProfile.emit(this.userProfile);\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  // Fonction qui arrete l'autoplay sur la derniere slide\r\n  slideChanged() {\r\n    let currentIndex = this.slides.getActiveIndex();\r\n    if(currentIndex==3){\r\n      this.slides.stopAutoplay();\r\n    }\r\n  }\r\n\r\n  // Navigation vers la page login\r\n  navigateToLoginPage() {\r\n    this.navCtrl.push('LoginPage');\r\n  }\r\n\r\n  // Navigation vers la page register\r\n  navigateToRegisterPage() {\r\n    this.navCtrl.push('RegisterPage');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts"],"sourceRoot":""}